# 시연 시나리오

# 1. DB to DB

1. **IF_DTD_001_S  / 조회 및 데이터 초기화**
    
    ```sql
    SELECT *
    FROM IF_DTD_001_S;
    
    TRUNCATE TABLE IF_DTD_001_S;
    ```
    
2. **IF_DTD_001_T / 조회 및 데이터 초기화**
    
    ```sql
    SELECT *
    FROM IF_DTD_001_T;
    
    TRUNCATE TABLE IF_DTD_001_T;
    ```
    
3. **IF_DTD_001_S / 데이터 삽입**
    
    ```sql
    INSERT INTO IF_DTD_001_S
    SELECT * FROM IF_DTD_001_S_TMP;
    ```
    
4. **IF_DTD_001_S  / 조회**
    
    ```sql
    SELECT *
    FROM IF_DTD_001_S;
    ```
    
5. **IF_DTD_001_T / 조회**
    
    ```sql
    SELECT *
    FROM IF_DTD_001_T;
    ```
    

# 2. 대용량 DB to DB

1. **IF_DTD_002_S  / 조회 및 데이터 초기화**
    
    ```sql
    SELECT *
    FROM IF_DTD_002_S;
    
    TRUNCATE TABLE IF_DTD_002_S;
    ```
    
2. **IF_DTD_002_T / 조회 및 데이터 초기화**
    
    ```sql
    SELECT *
    FROM IF_DTD_002_T;
    
    TRUNCATE TABLE IF_DTD_002_T;
    ```
    
3. **IF_DTD_002_S / 데이터 삽입**
    
    ```sql
    INSERT INTO IF_DTD_002_S
    SELECT * FROM IF_DTD_002_S_TMP;
    ```
    
4. **IF_DTD_002_S  / 조회**
    
    ```sql
    SELECT *
    FROM IF_DTD_002_S;
    ```
    
5. **IF_DTD_002_T / 조회**
    
    ```sql
    SELECT *
    FROM IF_DTD_002_T;
    ```
    

# 3. FILE to FILE

```bash
// 폴더 이동
cd /atb/send

// csv 파일 확인
ls -al

// csv 파일 복사
cp /atb/send/TS_session2.zip /atb/send/IF_FTF_001/

// 복사된 파일 확인
cd /atb/send/IF_FTF_001

// 성공여부 확인
cd /atb/send/IF_FTF_001/success

// 전송된 파일 확인
cd /atb/recv/IF_FTF_001

```

# 4. FILE to DB

1. **Batch**
    
    ```sql
    TRUNCATE TABLE IF_FTD_003;
    
    SELECT *
    FROM IF_FTD_003;
    ```
    
    ```bash
    cd /atb/send
    
    cp /atb/send/research-and-development-survey-2021_H.csv /atb/send/IF_FTD_003/
    
    cd /atb/send/IF_FTD_003/success
    ```
    
    ```sql
    SELECT *
    FROM IF_FTD_003;
    ```
    
2. **Send / Receive**
    
    ```sql
    TRUNCATE TABLE IF_FTD_001;
    TRUNCATE TABLE IF_FTD_002;
    
    SELECT *
    FROM IF_FTD_001;
    
    SELECT *
    FROM IF_FTD_002;
    ```
    
    ```bash
    
    cd /atb/send
    
    cp /atb/send/research-and-development-survey-2021_H.csv /atb/send/IF_FTD_001/
    
    cp /atb/send/research-and-development-survey-2021_NH.csv /atb/send/IF_FTD_002/
    
    cd /atb/send/IF_FTD_001/success
    
    cd /atb/send/IF_FTD_002/success
    ```
    
    ```sql
    SELECT *
    FROM IF_FTD_001;
    
    SELECT *
    FROM IF_FTD_002;
    ```
    

# 5. REST_API_PROVIDER (DB)

1. **INIT**
    
    ```sql
    TRUNCATE TABLE COMPANY_DATA;
    
    SELECT *
    FROM COMPANY_DATA;
    ```
    
2. **INSERT**
    
    ```json
    http://clupine.duckdns.org:24219/atb-api/IF_REST_DB_01
    
    IF_REST_DDB_01.http 파일 첨부
    ```
    
3. **SELECT**
    
    ```json
    http://clupine.duckdns.org:24219/atb-api/IF_REST_DB_02
    
    IF_REST_DDB_02.http 파일 첨부
    
    {
      "name": "Alyss"
    }
    ```
    
4. **UPDATE**
    
    ```sql
    http://clupine.duckdns.org:24219/atb-api/IF_REST_DB_03
    
    IF_REST_DDB_03.http 파일 첨부
    
    {
      "dataList": [
        {
          "id": "12",
          "name": "test"
        },
        {
          "id": "13",
          "name": "test2"
        }
      ]
    }
    ```
    
5. **DELETE**
    
    ```sql
    http://clupine.duckdns.org:24219/atb-api/IF_REST_DB_04
    
    IF_REST_DDB_01.http 파일 첨부
    
    {
      "dataList": [
        {
          "id": "12"
        },
        {
          "id": "13"
        }
      ]
    }
    ```
    

# 6. REST_API_PROVIDER (NA)

```json
http://clupine.duckdns.org:24220/na-api/IF_TCP_S_001

IF_TCP_S_001.http 파일 첨부

{
  "ambleLen": "0143",
  "memberId": "HEHY001 ",
  "cpCode": "SHDI00200000",
  "jpCode": "0200",
  "wkCode": "295",
  "resCode": "000",
  "keyNum": "0001",
  "ciYn": "C",
  "seq": "00000000000000000000",
  "residentNo": "7701201234567",
  "hash": "5g3fEkxe4INT1vrI0x5JjYlGPBV/mtNdcquT0XCGeOY\u003d"
}
```