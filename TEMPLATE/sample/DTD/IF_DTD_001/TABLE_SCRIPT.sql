CREATE TABLE IF_DTD_001_S
(
    ESB_SEQ            NUMBER primary key,
    ESB_STATUS_CD      VARCHAR2(1) DEFAULT 'N' NOT NULL,
    ESB_TRANSACTION_ID VARCHAR2(40),
    ESB_RECV_DT        VARCHAR2(20),
    ESB_INTERFACE_ID   VARCHAR2(40),
    FIRST_NAME         VARCHAR2(255)           NOT NULL,
    LAST_NAME          VARCHAR2(255)           NOT NULL,
    EMAIL              VARCHAR2(255)           NOT NULL,
    PHONE              VARCHAR2(20),
    CUSTOMER_ID        NUMBER
);

CREATE TABLE IF_DTD_001_T
(
    ESB_SEQ            NUMBER primary key,
    ESB_STATUS_CD      VARCHAR2(1) DEFAULT 'N' NOT NULL,
    ESB_TRANSACTION_ID VARCHAR2(40),
    ESB_RECV_DT        VARCHAR2(20),
    ESB_INTERFACE_ID   VARCHAR2(40),
    FIRST_NAME         VARCHAR2(255)           NOT NULL,
    LAST_NAME          VARCHAR2(255)           NOT NULL,
    EMAIL              VARCHAR2(255)           NOT NULL,
    PHONE              VARCHAR2(20),
    CUSTOMER_ID        NUMBER
);

CREATE OR REPLACE PROCEDURE SP_IF_DTD_001_T(txid IN VARCHAR2)
    IS
BEGIN
    DBMS_OUTPUT.PUT_LINE(txid || ' test');
    UPDATE IF_DTD_001_T SET ESB_STATUS_CD = 'S' WHERE ESB_TRANSACTION_ID = txid;
END;

CREATE SEQUENCE SEQ_IF_DTD_001_T INCREMENT BY 1 MINVALUE 1 MAXVALUE 9999999999 NOCYCLE NOCACHE NOORDER;